<!--
PHP vals:
$ID
$Sid
$LSUID1 through X (examine code for clarification)
$FirstName1 ""
$LastName1 ""
$Nickname1 ""
$PhoneNumber1 ""
-->
<html>
 	<head> 
   		 <title>View Group</title>
  	</head>
  	<body> 
		<h1>View Group</h1>
			<p>
				ID: $ID
				Sid: $Sid
			</p>
   		 	<a href="class/group/index.php">Back</a>'
			<!-- Next line only shows if you are the group leader-->
			<a href="class/group/edit.php">Edit Group</a>
			<!-- Next line only shows if LookingForMembers == true and $NumberOfMembers < $MaximumMembers-->
			<input type="button" value="Join Group" onClick="loadDoc('class/group/functions/joinGroup.php', myFunction)">
			
			<p>
				Group Name: $GroupName
				Maximum Members $MaximumMembers
				Number of Members $NumberOfMembers
				Looking for members: $LookingForMembers
			</p>
			
			<!-- Next table only shows if you are in the group-->
			
			<table style="width:100%">
				<tr>
					<th>LSUID</th>
					<th>First Name</th> 
					<th>Last Name</th>
					<th>Nickname</th>
					<th>Phone Number</th>
				</tr>
				<tr> <!-- Group Member One-->
					<td>$LSUID1</td>
					<td>$FirstName1</td> 
					<td>$LastName1</td>
					<td>$Nickname1</td>
					<td>$PhoneNumber1</td>
				</tr>
				<tr> <!-- Group Member Two-->
					<td>$LSUID2</td>
					<td>$FirstName2</td> 
					<td>$LastName2</td>
					<td>$Nickname2</td>
					<td>$PhoneNumber2</td>
				</tr>
				
				<!--COPY AND PASTE this section for the maximum # of members and change X to # -->
				<tr> <!-- Group Member X-->
					<td>$LSUIDX</td>
					<td>$FirstNameX</td> 
					<td>$LastNameX</td>
					<td>$NicknameX</td>
					<td>$PhoneNumberX</td>
				</tr>
			</table>
			
	<script>
	
	function loadDoc(url, cFunction) 
	{
		var ID = $ID; 
		var Sid = $Sid; 
		var attributes = "ID=" + ID + "&Sid=" + Sid;
	
		var xhttp;
		xhttp=new XMLHttpRequest();
		xhttp.onreadystatechange = function() 
		{
			if (this.readyState == 4 && this.status == 200) 
			{
				cFunction(this);
			}
		};
		xhttp.open("POST", url, true);
		xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
		xhttp.send(attributes);
	}
	
	function myFunction(xhttp) 
	{
		switch(xhttp.responseText)
		{
		case "0": 
			alert("Script Failure");
			break;
		
		case "1": 
			window.location = "class/group/view.php";
			break;
		
		case "2": 
			window.location = "index.php";
			break;
		}
	}
	</script>
  	</body>
	
	
</html>