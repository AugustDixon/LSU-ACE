<html>
 	<head> 
   		 <title>Edit Group</title>
  	</head>
  	<body> 
		<h1>Edit Group</h1>
            <a href= "view.php?ID=$ID&Sid=$username">Back</a>
            <form name="editGroup">
				Group Name: <input type="text" id="groupName"><br>
                Max Group Members:<input type="text" name="max" maxlength="36"><br>
                Looking for Members:<input id="Looking" type="checkbox" name="Looking"><br>
                Open Group:<input id="Open" type="checkbox" name="Open"><br>
                </div>
				
				<input type="button" value="Edit Group" onClick="loadDoc('functions/editGroup.php', myFunction)">
			</form>	
    </body>
	
	<script>
		function loadDoc(url, cFunction) 
		{
			var name = document.getElementById('groupName').value;
			var max = document.getElementById('max').value;
			max = parseInt(max);
			var looking = document.getElementById('Looking').value;
			var open = document.getElementById('Open').value;
			var attributes = 'ID=$ID&Name=' + groupName + '&Max=' + max + '&Looking=' + looking + '&Open=' + open;
	
			var xhttp;
			xhttp=new XMLHttpRequest();
			xhttp.onreadystatechange = function() 
			{
				if (this.readyState == 4 && this.status == 200) 
				{
					cFunction(this);
				}
			};
			xhttp.open("POST", url, true);
			xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
			xhttp.send(attributes);
		}
		
        function myFunction(xhttp) 
		{
			switch(xhttp.responseText)
			{
			case "0": 
				alert("Edit Group Script Failure");
				break;
		
			case "1": 
				window.location = "view.php?ID=$ID&Sid=$username";
				break;
		
			case "2": 
				window.location = "../../index.php";
				break;
		
			case "3": 
				alert("Group Name must be 1 to 30 characters long");
				break;
		
		    }
		}
	</script>
</html>