<html>
 	<head> 
   		 <title>Form Group</title>
  	</head>
  	<body> 
		<h1>Form Group</h1>
            <a href= "index.php?ID=$ID">Back</a>
            <form name="makeGroup">
				Group Name: <input type="text" id="groupName"><br>
                Max Group Members:<input type="text" id="max" maxlength="36"><br>
                Looking for Members:<input id="Looking" type="checkbox" name="Looking"><br>
                Open Group:<input id="Open" type="checkbox" name="Open"><br>                
				</div>
				
				<input type="button" value="Form Group" onClick="loadDoc('functions/makeGroup.php', myFunction)">
			</form>	
    </body>
	
	<script>
		function loadDoc(url, cFunction) 
		{
			var name = document.getElementById('groupName').value;
			var max = document.getElementById('max').value;
			max = parseInt(max);
			var looking = document.getElementById('Looking').checked;
			var open = document.getElementById('Open').checked;
			var attributes = 'ID=$ID&Name=' + escape(name) + '&Max=' + max + '&Looking=' + looking + '&Open=' + open;
	
			var xhttp;
			xhttp=new XMLHttpRequest();
			xhttp.onreadystatechange = function() 
			{
				if (this.readyState == 4 && this.status == 200) 
				{
					cFunction(this);
				}
			};
			xhttp.open("POST", url, true);
			xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
			xhttp.send(attributes);
		}
		
		function myFunction(xhttp) 
		{
			switch(xhttp.responseText)
			{
				case "0": 
					alert("Form Group Script Failure");
					break;
		
				case "1": 
					window.location = "view.php?ID=$ID&Sid=$username";
					break;
		
				case "2": 
					window.location = "../../index.php";
					break;
		
				case "3": 
					alert("Group Name must be 1 to 30 characters long");
					break;
		
				case "4": 
					alert("You are already leading a group");
					break;         
			}
		}
	</script>
</html>